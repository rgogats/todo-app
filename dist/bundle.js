(()=>{"use strict";var e={d:(t,o)=>{for(var l in o)e.o(o,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:o[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{d:()=>c});const o=[],l=()=>o,n=(e,t)=>{console.log("new todolist",e,t);const l=[];let n="active";return o.push({id:e,label:t}),console.log("all todolists",o),console.log("all todolists.length",o.length),{getTodos:()=>l,addTodo:t=>{l.push(t),t.moveTodo(e)},removeTodo:e=>{for(let t=0;t<l.length;t++)return l[t]===e?(l.splice(l[t],1),console.log("updated todos in list",l)):"Todo not found"},getLabel:()=>t,getId:()=>e,editLabel:e=>{t=e},deleteList:()=>{n="deleted"}}},d=[],c=()=>d;(()=>{const e=document.querySelector("div#content"),o=document.querySelector("button#new-todo"),d=document.querySelector("div#newTodoModal"),c=document.querySelector("div#viewTodoModal"),a=document.querySelector("form"),s=document.querySelector("input#title.form-control"),i=document.querySelector("textarea#desc");console.log("desc",i);const r=document.querySelector("select#list.form-control"),m=document.querySelector("button#new.close"),u=document.querySelector("button#view.close"),g=document.querySelector("button#new-todolist"),p=document.createElement("div");p.className="todolist-container";const v=document.createElement("h3");v.className="list-label",p.appendChild(v),e.appendChild(p),p.dataset.index="0";const h=()=>{const e=l;localStorage.setItem("todoLists",JSON.stringify(e)),localStorage.setItem("todos",JSON.stringify(e)),console.log("localStorage",localStorage)};console.log("populate localStorage",localStorage);const y=n(0,"Default List");v.textContent=y.getLabel(),o.addEventListener("click",(()=>{for(d.style.display="block";r.hasChildren;)r.removeChild(r.lastChild);for(let e=0;e<l().length;e++){const t=document.createElement("option");t.value=l()[e].label,r.appendChild(t),t.textContent=l()[e].label}})),m.addEventListener("click",(()=>{d.style.display="none"})),u.addEventListener("click",(()=>{c.style.display="none"})),a.addEventListener("submit",(e=>{let o,n;e.preventDefault();for(let e=1;e<l().length;e++)l()[e].label===r.value?(o=l()[e].id,console.log("match found",l()[e])):console.log("noMatch");console.log("matchIndex",o),console.log("query test",document.querySelector('div.todolist-container[data-index="0"]')),o?(console.log(`matching... ${o}`),n=document.querySelector(`div.todolist-container[data-index="${o}"]`)):n=document.querySelector('div.todolist-container[data-index="0"]'),console.log("matchingListContainer",n);const a=(0,t.Todo)(s.value,i.value,o);console.log("newTodo",a),h(),y.addTodo(a);const m=document.createElement("div");m.className="todo-container",n.appendChild(m);const u=document.createElement("div");u.className="todo-title";const g=document.createElement("div");g.className="todo-desc",u.textContent=`Title: ${a.getTodo().title}`,g.textContent=`Description: ${a.getTodo().descPreview}`;const p=document.createElement("button");p.className="view",p.textContent="View details";const v=document.createElement("button");v.className="done",v.textContent="Mark as done",s.value="",i.value="Enter your description here...",m.appendChild(u),m.appendChild(g),m.appendChild(p),m.appendChild(v),m.addEventListener("click",(()=>{console.log("expanded details here")})),p.addEventListener("click",(()=>{c.style.display="block";const e=c.querySelector(".modal-body");console.log("viewModal",c);const t=document.createElement("h6"),o=document.createElement("p");t.className="title",t.textContent=`Title: ${a.getTodo().title}`,o.textContent=`Description: ${a.getTodo().desc}`,e.appendChild(t),e.appendChild(o)})),v.addEventListener("click",(e=>{console.log("done logic here"),console.log("e.target.parentElement.parentElement",e.target.parentElement.parentElement),e.target.parentElement.parentElement.removeChild(e.target.parentElement),a.finishTodo()})),d.style.display="none"})),g.addEventListener("click",(()=>{const t=document.createElement("div"),o=document.createElement("input"),d=document.createElement("h3");let c;o.addEventListener("keypress",(e=>{"Enter"===e.key&&(c=n(l().length,o.value),console.log("getAllTodoLists.length",l().length),t.removeChild(o),d.className="list-label",d.textContent=c.getLabel(),console.log(c.getLabel()),t.dataset.index=c.getId())})),t.className="todolist-container",t.appendChild(d),t.appendChild(o),e.appendChild(t),h(),console.log("add listContainer",t)}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QSxlQUMzRWpCLEVBQUVnQixPQUFPQyxjQUFjQSxjQUFjcEIsWUFBWUcsRUFBRWdCLE9BQU9DLGVBQzFEYixFQUFRYyxZQUNYLElBRURqRCxFQUFVeUIsTUFBTUMsUUFBVSxNQUU3QixJQUVEbEIsRUFBY2dCLGlCQUFpQixTQUFTLEtBQ3BDLE1BQU0wQixFQUFnQnJELFNBQVNhLGNBQWMsT0FDdkN5QyxFQUFpQnRELFNBQVNhLGNBQWMsU0FDeENFLEVBQWtCZixTQUFTYSxjQUFjLE1BQy9DLElBQUkwQyxFQUVKRCxFQUFlM0IsaUJBQWlCLFlBQWNPLElBQ2hDLFVBQVZBLEVBQUUxRSxNQUNFK0YsRUFBVS9FLEVBQVNELElBQWtCUyxPQUFRc0UsRUFBZWpGLE9BQzVETSxRQUFRQyxJQUFJLHlCQUEwQkwsSUFBa0JTLFFBQ3hEcUUsRUFBY3RCLFlBQVl1QixHQUMxQnZDLEVBQWdCRCxVQUFZLGFBQzVCQyxFQUFnQlcsWUFBYzZCLEVBQVEvRCxXQUN0Q2IsUUFBUUMsSUFBSTJFLEVBQVEvRCxZQUNwQjZELEVBQWNwQyxRQUFRQyxNQUFRcUMsRUFBUTlELFFBRTdDLElBRUQ0RCxFQUFjdkMsVUFBWSxxQkFDMUJ1QyxFQUFjckMsWUFBWUQsR0FDMUJzQyxFQUFjckMsWUFBWXNDLEdBQzFCdkQsRUFBWWlCLFlBQVlxQyxHQUN4QmxDLElBRUF4QyxRQUFRQyxJQUFJLG9CQUFxQnlFLEVBQ3BDLEdBRUosRUM3S0QsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tYXBwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3RvZG8tYXBwL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly90b2RvLWFwcC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3RvZG8tYXBwL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vdG9kby1hcHAvLi9zcmMvdG9kb0xpc3QuanMiLCJ3ZWJwYWNrOi8vdG9kby1hcHAvLi9zcmMvdG9kby5qcyIsIndlYnBhY2s6Ly90b2RvLWFwcC8uL3NyYy91aUNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vdG9kby1hcHAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJjb25zdCBhbGxUb2RvTGlzdHMgPSBbXTtcblxuY29uc3QgZ2V0QWxsVG9kb0xpc3RzID0gKCkgPT4ge1xuICAgIHJldHVybiBhbGxUb2RvTGlzdHM7XG59XG5cbmNvbnN0IFRvZG9MaXN0ID0gKChpZCwgbGFiZWwpID0+IHtcbiAgICBjb25zb2xlLmxvZygnbmV3IHRvZG9saXN0JywgaWQsIGxhYmVsKTtcbiAgICBjb25zdCB0b2RvcyA9IFtdO1xuICAgIGxldCBzdGF0dXMgPSAnYWN0aXZlJztcblxuICAgIGNvbnN0IGdldFRvZG9zID0gKCkgPT4gdG9kb3M7XG5cbiAgICBjb25zdCBnZXRMYWJlbCA9ICgpID0+IGxhYmVsO1xuXG4gICAgY29uc3QgZ2V0SWQgPSAoKSA9PiBpZDtcblxuICAgIGNvbnN0IGVkaXRMYWJlbCA9IChuZXdMYWJlbCkgPT4ge1xuICAgICAgICBsYWJlbCA9IG5ld0xhYmVsO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgYWRkVG9kbyA9ICh0b2RvKSA9PiB7XG4gICAgICAgIHRvZG9zLnB1c2godG9kbyk7XG4gICAgICAgIHRvZG8ubW92ZVRvZG8oaWQpO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlVG9kbyA9ICh0b2RvKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9kb3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJldHVybiB0b2Rvc1tpXSA9PT0gdG9kbyA/ICh0b2Rvcy5zcGxpY2UodG9kb3NbaV0sIDEpLCBjb25zb2xlLmxvZygndXBkYXRlZCB0b2RvcyBpbiBsaXN0JywgdG9kb3MpKSA6ICdUb2RvIG5vdCBmb3VuZCc7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGRlbGV0ZUxpc3QgPSAoKSA9PiB7XG4gICAgICAgIHN0YXR1cyA9ICdkZWxldGVkJztcbiAgICB9O1xuXG4gICAgYWxsVG9kb0xpc3RzLnB1c2goeyBpZCwgbGFiZWwgfSk7XG4gICAgY29uc29sZS5sb2coJ2FsbCB0b2RvbGlzdHMnLCBhbGxUb2RvTGlzdHMpO1xuICAgIGNvbnNvbGUubG9nKCdhbGwgdG9kb2xpc3RzLmxlbmd0aCcsIGFsbFRvZG9MaXN0cy5sZW5ndGgpO1xuXG4gICAgcmV0dXJuIHsgZ2V0VG9kb3MsIGFkZFRvZG8sIHJlbW92ZVRvZG8sIGdldExhYmVsLCBnZXRJZCwgZWRpdExhYmVsLCBkZWxldGVMaXN0IH07XG59KTtcblxuZXhwb3J0IHsgZ2V0QWxsVG9kb0xpc3RzLCBUb2RvTGlzdCB9OyIsImNvbnN0IGFsbFRvZG9zID0gW107XG5cbmNvbnN0IGdldEFsbFRvZG9zID0gKCkgPT4ge1xuICAgIHJldHVybiBhbGxUb2Rvcztcbn1cblxuY29uc3QgVG9EbyA9ICgodGl0bGUsIGRlc2MsIGxpc3RJZCkgPT4ge1xuICAgIGxldCBwcmlvcml0eUxldmVsO1xuICAgIGxldCBkdWVEYXRlO1xuICAgIGxldCBzdGF0dXMgPSAnYWN0aXZlJztcbiAgICBsZXQgZGVzY1ByZXZpZXcgPSBkZXNjLmxlbmd0aCA+IDIwID8gZGVzYy5zbGljZSgwLDIwKSArICdbLi4uXScgOiBkZXNjO1xuXG4gICAgY29uc3QgZ2V0VG9kbyA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgIGRlc2M6IGRlc2MsXG4gICAgICAgICAgICBkZXNjUHJldmlldzogZGVzY1ByZXZpZXcsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgZWRpdFRvZG8gPSAobmV3VGl0bGUsIG5ld0Rlc2MpID0+IHtcbiAgICAgICAgdGl0bGUgPSBuZXdUaXRsZTtcbiAgICAgICAgZGVzYyA9IG5ld0Rlc2M7XG4gICAgfVxuXG4gICAgY29uc3Qgc2V0UHJpb3JpdHkgPSAobGV2ZWwpID0+IHtcbiAgICAgICAgcHJpb3JpdHlMZXZlbCA9IGxldmVsO1xuICAgIH1cblxuICAgIGNvbnN0IHNldER1ZURhdGUgPSAoZGF0ZSkgPT4ge1xuICAgICAgICBkdWVEYXRlID0gZGF0ZTtcbiAgICB9XG5cbiAgICBjb25zdCBmaW5pc2hUb2RvID0gKCkgPT4ge1xuICAgICAgICBzdGF0dXMgPSAnZG9uZSc7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzdGF0dXM6ICcsIHN0YXR1cyk7XG4gICAgfVxuXG4gICAgY29uc3QgbW92ZVRvZG8gPSAobmV3TGlzdElkKSA9PiB7XG4gICAgICAgIGxpc3RJZCA9IG5ld0xpc3RJZDtcbiAgICB9XG5cbiAgICBhbGxUb2Rvcy5wdXNoKHsgdGl0bGUsIGRlc2MsIGxpc3RJZCB9KTtcblxuICAgIHJldHVybiB7IGdldFRvZG8sIGVkaXRUb2RvLCBzZXRQcmlvcml0eSwgc2V0RHVlRGF0ZSwgbW92ZVRvZG8sIGZpbmlzaFRvZG8gfTtcbn0pO1xuXG5leHBvcnQgeyBnZXRBbGxUb2RvcywgVG9EbyB9OyIsImltcG9ydCB7IGdldEFsbFRvZG9MaXN0cywgVG9kb0xpc3QgfSBmcm9tICcuL3RvZG9MaXN0LmpzJztcbmltcG9ydCB7IGdldEFsbFRvZG9zLCBUb2RvIH0gZnJvbSAnLi90b2RvLmpzJztcblxuY29uc3QgVUlDb250cm9sbGVyID0gKCgpID0+IHtcbiAgICAvLyBpbml0aWFsaXplIGRlZmF1bHQgbGlzdCBhbmQgdG9kb2xpc3QtY29udGFpbmVyIGVsZW1lbnRcbiAgICBcbiAgICBjb25zdCBib2R5Q29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2RpdiNjb250ZW50Jyk7XG4gICAgY29uc3QgbmV3VG9kb0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbiNuZXctdG9kbycpO1xuICAgIGNvbnN0IHRvZG9Nb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2RpdiNuZXdUb2RvTW9kYWwnKTtcbiAgICBjb25zdCB2aWV3TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXYjdmlld1RvZG9Nb2RhbCcpO1xuICAgIGNvbnN0IHRvZG9Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybScpO1xuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXQjdGl0bGUuZm9ybS1jb250cm9sJyk7XG4gICAgY29uc3QgZGVzYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhI2Rlc2MnKTtcbiAgICBjb25zb2xlLmxvZygnZGVzYycsIGRlc2MpO1xuICAgIGNvbnN0IGxpc3RTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdCNsaXN0LmZvcm0tY29udHJvbCcpO1xuICAgIGNvbnN0IG5ld01vZGFsQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b24jbmV3LmNsb3NlJyk7XG4gICAgY29uc3Qgdmlld01vZGFsQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b24jdmlldy5jbG9zZScpO1xuICAgIGNvbnN0IG5ld2xpc3RCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b24jbmV3LXRvZG9saXN0Jyk7XG5cblxuICAgIC8vIGNyZWF0ZSBlbXB0eSB0b2RvbGlzdC1jb250YWluZXJcbiAgICBjb25zdCB0b2RvTGlzdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRvZG9MaXN0Q29udGFpbmVyLmNsYXNzTmFtZSA9ICd0b2RvbGlzdC1jb250YWluZXInO1xuICAgIGNvbnN0IGxpc3RMYWJlbEhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgbGlzdExhYmVsSGVhZGVyLmNsYXNzTmFtZSA9ICdsaXN0LWxhYmVsJztcbiAgICB0b2RvTGlzdENvbnRhaW5lci5hcHBlbmRDaGlsZChsaXN0TGFiZWxIZWFkZXIpO1xuICAgIGJvZHlDb250ZW50LmFwcGVuZENoaWxkKHRvZG9MaXN0Q29udGFpbmVyKTtcbiAgICB0b2RvTGlzdENvbnRhaW5lci5kYXRhc2V0LmluZGV4ID0gJzAnO1xuXG4gICAgY29uc3Qgc2F2ZURhdGEgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0cyA9IGdldEFsbFRvZG9MaXN0cztcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RvZG9MaXN0cycsIEpTT04uc3RyaW5naWZ5KHRvZG9MaXN0cykpO1xuXG4gICAgICAgIGNvbnN0IHRvZG9zID0gZ2V0QWxsVG9kb3M7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2RvcycsIEpTT04uc3RyaW5naWZ5KHRvZG9MaXN0cykpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdsb2NhbFN0b3JhZ2UnLCBsb2NhbFN0b3JhZ2UpO1xuICAgIH07XG5cbiAgICAoKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygncG9wdWxhdGUgbG9jYWxTdG9yYWdlJywgbG9jYWxTdG9yYWdlKTtcbiAgICAgICAgLy8gZ2V0IGV4aXN0aW5nIHRvZG9saXN0cyBhbmQgdG9kb3MgZnJvbSBsb2NhbFN0b3JhZ2VcbiAgICAgICAgLy8gcG9wdWxhdGUgc3RvcmVkIGRhdGFcbiAgICB9KSgpO1xuXG4gICAgLy8gY3JlYXRlIGRlZmF1bHQgbGlzdFxuICAgIGNvbnN0IGRlZmF1bHRMaXN0ID0gVG9kb0xpc3QoMCwgJ0RlZmF1bHQgTGlzdCcpO1xuICAgIGxpc3RMYWJlbEhlYWRlci50ZXh0Q29udGVudCA9IGRlZmF1bHRMaXN0LmdldExhYmVsKCk7XG5cbiAgICBuZXdUb2RvQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCgpPT4ge1xuICAgICAgICB0b2RvTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7IFxuXG4gICAgICAgIHdoaWxlKGxpc3RTZWxlY3Rvci5oYXNDaGlsZHJlbikge1xuICAgICAgICAgICAgbGlzdFNlbGVjdG9yLnJlbW92ZUNoaWxkKGxpc3RTZWxlY3Rvci5sYXN0Q2hpbGQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBnZXRBbGxUb2RvTGlzdHMoKS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbGlzdE9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgbGlzdE9wdGlvbi52YWx1ZSA9IGdldEFsbFRvZG9MaXN0cygpW2ldLmxhYmVsO1xuICAgICAgICAgICAgbGlzdFNlbGVjdG9yLmFwcGVuZENoaWxkKGxpc3RPcHRpb24pO1xuICAgICAgICAgICAgbGlzdE9wdGlvbi50ZXh0Q29udGVudCA9IGdldEFsbFRvZG9MaXN0cygpW2ldLmxhYmVsO1xuICAgICAgICB9O1xuICAgIH0pKTtcblxuICAgIG5ld01vZGFsQ2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKCkgPT4ge1xuICAgICAgICB0b2RvTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9KSk7XG4gICAgdmlld01vZGFsQ2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKCkgPT4ge1xuICAgICAgICB2aWV3TW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9KSk7XG5cbiAgICB0b2RvRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGxldCBtYXRjaEluZGV4O1xuICAgICAgICBsZXQgbWF0Y2hpbmdMaXN0Q29udGFpbmVyO1xuICAgICAgICBmb3IobGV0IGkgPSAxOyBpIDwgZ2V0QWxsVG9kb0xpc3RzKCkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGdldEFsbFRvZG9MaXN0cygpW2ldLmxhYmVsID09PSBsaXN0U2VsZWN0b3IudmFsdWUgPyAobWF0Y2hJbmRleCA9IGdldEFsbFRvZG9MaXN0cygpW2ldLmlkLCBjb25zb2xlLmxvZygnbWF0Y2ggZm91bmQnLCBnZXRBbGxUb2RvTGlzdHMoKVtpXSkpIDogY29uc29sZS5sb2coJ25vTWF0Y2gnKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc29sZS5sb2coJ21hdGNoSW5kZXgnLCBtYXRjaEluZGV4KTtcbiAgICAgICAgY29uc29sZS5sb2coJ3F1ZXJ5IHRlc3QnLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXYudG9kb2xpc3QtY29udGFpbmVyW2RhdGEtaW5kZXg9XCIwXCJdJykpO1xuICAgICAgICBtYXRjaEluZGV4ID8gKFxuICAgICAgICAgICAgY29uc29sZS5sb2coYG1hdGNoaW5nLi4uICR7bWF0Y2hJbmRleH1gKSxcbiAgICAgICAgICAgIG1hdGNoaW5nTGlzdENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGRpdi50b2RvbGlzdC1jb250YWluZXJbZGF0YS1pbmRleD1cIiR7bWF0Y2hJbmRleH1cIl1gKVxuICAgICAgICAgICAgKSA6IG1hdGNoaW5nTGlzdENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi50b2RvbGlzdC1jb250YWluZXJbZGF0YS1pbmRleD1cIjBcIl0nKTtcblxuICAgICAgICBjb25zb2xlLmxvZygnbWF0Y2hpbmdMaXN0Q29udGFpbmVyJywgbWF0Y2hpbmdMaXN0Q29udGFpbmVyKTtcblxuICAgICAgICBjb25zdCBuZXdUb2RvID0gVG9kbyh0aXRsZS52YWx1ZSwgZGVzYy52YWx1ZSwgbWF0Y2hJbmRleCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCduZXdUb2RvJywgbmV3VG9kbyk7XG4gICAgICAgIHNhdmVEYXRhKCk7XG4gICAgICAgIGRlZmF1bHRMaXN0LmFkZFRvZG8obmV3VG9kbyk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0b2RvQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRvZG9Db250YWluZXIuY2xhc3NOYW1lID0gJ3RvZG8tY29udGFpbmVyJztcbiAgICAgICAgbWF0Y2hpbmdMaXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRvZG9Db250YWluZXIpO1xuXG5cbiAgICAgICAgY29uc3QgdG9kb0l0ZW1UaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0b2RvSXRlbVRpdGxlLmNsYXNzTmFtZSA9ICd0b2RvLXRpdGxlJztcbiAgICAgICAgY29uc3QgdG9kb0l0ZW1EZXNjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRvZG9JdGVtRGVzYy5jbGFzc05hbWUgPSAndG9kby1kZXNjJztcbiAgICAgICAgdG9kb0l0ZW1UaXRsZS50ZXh0Q29udGVudCA9IGBUaXRsZTogJHtuZXdUb2RvLmdldFRvZG8oKS50aXRsZX1gO1xuICAgICAgICB0b2RvSXRlbURlc2MudGV4dENvbnRlbnQgPSBgRGVzY3JpcHRpb246ICR7bmV3VG9kby5nZXRUb2RvKCkuZGVzY1ByZXZpZXd9YDtcbiAgICAgICAgY29uc3QgdG9kb1ZpZXdCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgdG9kb1ZpZXdCdXR0b24uY2xhc3NOYW1lID0gJ3ZpZXcnO1xuICAgICAgICB0b2RvVmlld0J1dHRvbi50ZXh0Q29udGVudCA9ICdWaWV3IGRldGFpbHMnO1xuICAgICAgICBjb25zdCB0b2RvRG9uZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICB0b2RvRG9uZUJ1dHRvbi5jbGFzc05hbWUgPSAnZG9uZSc7XG4gICAgICAgIHRvZG9Eb25lQnV0dG9uLnRleHRDb250ZW50ID0gJ01hcmsgYXMgZG9uZSc7XG5cbiAgICAgICAgdGl0bGUudmFsdWUgPSAnJztcbiAgICAgICAgZGVzYy52YWx1ZSA9ICdFbnRlciB5b3VyIGRlc2NyaXB0aW9uIGhlcmUuLi4nO1xuXG4gICAgICAgIHRvZG9Db250YWluZXIuYXBwZW5kQ2hpbGQodG9kb0l0ZW1UaXRsZSk7XG4gICAgICAgIHRvZG9Db250YWluZXIuYXBwZW5kQ2hpbGQodG9kb0l0ZW1EZXNjKTtcbiAgICAgICAgdG9kb0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0b2RvVmlld0J1dHRvbik7XG4gICAgICAgIHRvZG9Db250YWluZXIuYXBwZW5kQ2hpbGQodG9kb0RvbmVCdXR0b24pO1xuXG4gICAgICAgIHRvZG9Db250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2V4cGFuZGVkIGRldGFpbHMgaGVyZScpO1xuICAgICAgICAgICAgLy8gYWRkIGxvZ2ljIHRvIGV4cGFuZCBkZXNjcmlwdGlvblxuICAgICAgICB9KSk7XG5cbiAgICAgICAgdG9kb1ZpZXdCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKCkgPT4ge1xuICAgICAgICAgICAgdmlld01vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOyBcbiAgICAgICAgICAgIGNvbnN0IHZpZXdNb2RhbEJvZHkgPSB2aWV3TW9kYWwucXVlcnlTZWxlY3RvcignLm1vZGFsLWJvZHknKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd2aWV3TW9kYWwnLCB2aWV3TW9kYWwpO1xuICAgICAgICAgICAgY29uc3Qgdmlld01vZGFsVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoNicpO1xuICAgICAgICAgICAgY29uc3Qgdmlld01vZGFsRGVzYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgICAgIHZpZXdNb2RhbFRpdGxlLmNsYXNzTmFtZSA9ICd0aXRsZSc7XG4gICAgICAgICAgICB2aWV3TW9kYWxUaXRsZS50ZXh0Q29udGVudCA9IGBUaXRsZTogJHtuZXdUb2RvLmdldFRvZG8oKS50aXRsZX1gO1xuICAgICAgICAgICAgdmlld01vZGFsRGVzYy50ZXh0Q29udGVudCA9IGBEZXNjcmlwdGlvbjogJHtuZXdUb2RvLmdldFRvZG8oKS5kZXNjfWA7XG4gICAgICAgICAgICB2aWV3TW9kYWxCb2R5LmFwcGVuZENoaWxkKHZpZXdNb2RhbFRpdGxlKTtcbiAgICAgICAgICAgIHZpZXdNb2RhbEJvZHkuYXBwZW5kQ2hpbGQodmlld01vZGFsRGVzYyk7XG4gICAgICAgIH0pKTtcblxuICAgICAgICB0b2RvRG9uZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgoZSkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2RvbmUgbG9naWMgaGVyZScpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2UudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudCcsIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudCk7XG4gICAgICAgICAgICBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZS50YXJnZXQucGFyZW50RWxlbWVudCk7XG4gICAgICAgICAgICBuZXdUb2RvLmZpbmlzaFRvZG8oKTtcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHRvZG9Nb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgfSkpO1xuXG4gICAgbmV3bGlzdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGxpc3RDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29uc3QgbGlzdExhYmVsSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBjb25zdCBsaXN0TGFiZWxIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgICAgICBsZXQgbmV3TGlzdDtcblxuICAgICAgICBsaXN0TGFiZWxJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsICgoZSkgPT4ge1xuICAgICAgICAgICAgZS5rZXkgPT09IFwiRW50ZXJcIiA/IChcbiAgICAgICAgICAgICAgICBuZXdMaXN0ID0gVG9kb0xpc3QoZ2V0QWxsVG9kb0xpc3RzKCkubGVuZ3RoLCBsaXN0TGFiZWxJbnB1dC52YWx1ZSksXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJnZXRBbGxUb2RvTGlzdHMubGVuZ3RoXCIsIGdldEFsbFRvZG9MaXN0cygpLmxlbmd0aCksXG4gICAgICAgICAgICAgICAgbGlzdENvbnRhaW5lci5yZW1vdmVDaGlsZChsaXN0TGFiZWxJbnB1dCksIFxuICAgICAgICAgICAgICAgIGxpc3RMYWJlbEhlYWRlci5jbGFzc05hbWUgPSAnbGlzdC1sYWJlbCcsXG4gICAgICAgICAgICAgICAgbGlzdExhYmVsSGVhZGVyLnRleHRDb250ZW50ID0gbmV3TGlzdC5nZXRMYWJlbCgpLFxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG5ld0xpc3QuZ2V0TGFiZWwoKSksIFxuICAgICAgICAgICAgICAgIGxpc3RDb250YWluZXIuZGF0YXNldC5pbmRleCA9IG5ld0xpc3QuZ2V0SWQoKVxuICAgICAgICAgICAgKSA6IG51bGw7XG4gICAgICAgIH0pKVxuICAgICAgICBcbiAgICAgICAgbGlzdENvbnRhaW5lci5jbGFzc05hbWUgPSAndG9kb2xpc3QtY29udGFpbmVyJztcbiAgICAgICAgbGlzdENvbnRhaW5lci5hcHBlbmRDaGlsZChsaXN0TGFiZWxIZWFkZXIpO1xuICAgICAgICBsaXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGxpc3RMYWJlbElucHV0KTtcbiAgICAgICAgYm9keUNvbnRlbnQuYXBwZW5kQ2hpbGQobGlzdENvbnRhaW5lcik7XG4gICAgICAgIHNhdmVEYXRhKCk7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ2FkZCBsaXN0Q29udGFpbmVyJywgbGlzdENvbnRhaW5lcik7XG4gICAgfSkpO1xuICAgIFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFVJQ29udHJvbGxlcjsiLCJpbXBvcnQgVUlDb250cm9sbGVyIGZyb20gJy4vdWlDb250cm9sbGVyLmpzJztcblxuVUlDb250cm9sbGVyKCk7Il0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsImFsbFRvZG9MaXN0cyIsImdldEFsbFRvZG9MaXN0cyIsIlRvZG9MaXN0IiwiaWQiLCJsYWJlbCIsImNvbnNvbGUiLCJsb2ciLCJ0b2RvcyIsInN0YXR1cyIsInB1c2giLCJsZW5ndGgiLCJnZXRUb2RvcyIsImFkZFRvZG8iLCJ0b2RvIiwibW92ZVRvZG8iLCJyZW1vdmVUb2RvIiwiaSIsInNwbGljZSIsImdldExhYmVsIiwiZ2V0SWQiLCJlZGl0TGFiZWwiLCJuZXdMYWJlbCIsImRlbGV0ZUxpc3QiLCJhbGxUb2RvcyIsImdldEFsbFRvZG9zIiwiYm9keUNvbnRlbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJuZXdUb2RvQnV0dG9uIiwidG9kb01vZGFsIiwidmlld01vZGFsIiwidG9kb0Zvcm0iLCJ0aXRsZSIsImRlc2MiLCJsaXN0U2VsZWN0b3IiLCJuZXdNb2RhbENsb3NlQnV0dG9uIiwidmlld01vZGFsQ2xvc2VCdXR0b24iLCJuZXdsaXN0QnV0dG9uIiwidG9kb0xpc3RDb250YWluZXIiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwibGlzdExhYmVsSGVhZGVyIiwiYXBwZW5kQ2hpbGQiLCJkYXRhc2V0IiwiaW5kZXgiLCJzYXZlRGF0YSIsInRvZG9MaXN0cyIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiZGVmYXVsdExpc3QiLCJ0ZXh0Q29udGVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdHlsZSIsImRpc3BsYXkiLCJoYXNDaGlsZHJlbiIsInJlbW92ZUNoaWxkIiwibGFzdENoaWxkIiwibGlzdE9wdGlvbiIsImUiLCJtYXRjaEluZGV4IiwibWF0Y2hpbmdMaXN0Q29udGFpbmVyIiwicHJldmVudERlZmF1bHQiLCJuZXdUb2RvIiwiVG9kbyIsInRvZG9Db250YWluZXIiLCJ0b2RvSXRlbVRpdGxlIiwidG9kb0l0ZW1EZXNjIiwiZ2V0VG9kbyIsImRlc2NQcmV2aWV3IiwidG9kb1ZpZXdCdXR0b24iLCJ0b2RvRG9uZUJ1dHRvbiIsInZpZXdNb2RhbEJvZHkiLCJ2aWV3TW9kYWxUaXRsZSIsInZpZXdNb2RhbERlc2MiLCJ0YXJnZXQiLCJwYXJlbnRFbGVtZW50IiwiZmluaXNoVG9kbyIsImxpc3RDb250YWluZXIiLCJsaXN0TGFiZWxJbnB1dCIsIm5ld0xpc3QiXSwic291cmNlUm9vdCI6IiJ9